{"ast":null,"code":"import React,{useState}from'react';import{CookiesProvider,useCookies}from'react-cookie';import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(props){const[loading,setloading]=useState(false);const navigate=useNavigate();const[cookies,setCookie]=useCookies(['user']);const loginhandler=async()=>{setloading(true);const datareq={\"email\":data.email,\"password\":data.password};try{const response=await fetch('https://blog-app-api-804s.onrender.com/api/login',{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(datareq)});const res=await response.json();console.log(res);if(res.success){props.setlogedin(true);console.log(\"login successful\");setCookie('token',res.token,3*20*1000);setloading(false);toast.success(\"Login Successfull\");navigate(\"/frommypen\");}else{console.log(\"login failed\");setloading(false);toast.error(\"wrong credentials\");}}catch(error){console.log(\"login failed\");console.log(error);setloading(false);toast.error(\"server error occured\");}};const[data,setData]=useState({email:\"\",password:\"\"});const handleChange=_ref=>{let{currentTarget:input}=_ref;setData({...data,[input.name]:input.value});console.log(input.value);};return/*#__PURE__*/_jsxs(\"div\",{className:\"login\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl\",children:\"Login form\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"Input\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"email\",className:\"Input-label\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"email\",className:\"Input-text\",id:\"email\",placeholder:\"your email\",onChange:handleChange}),/*#__PURE__*/_jsx(\"label\",{for:\"pwd\",className:\"Input-label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",className:\"Input-text\",id:\"pwd\",placeholder:\"enter your password\",onChange:handleChange})]}),/*#__PURE__*/_jsx(\"button\",{className:\"button-5\",onClick:loginhandler,children:\"Login\"})]});}","map":{"version":3,"names":["React","useState","CookiesProvider","useCookies","ToastContainer","toast","useNavigate","jsx","_jsx","jsxs","_jsxs","Login","props","loading","setloading","navigate","cookies","setCookie","loginhandler","datareq","data","email","password","response","fetch","method","headers","body","JSON","stringify","res","json","console","log","success","setlogedin","token","error","setData","handleChange","_ref","currentTarget","input","name","value","className","children","for","type","id","placeholder","onChange","onClick"],"sources":["/Users/kartikranaut/Documents/personal skill/untitled folder/frommypen/src/Components/Login.js"],"sourcesContent":["import React,{useState} from 'react'\nimport { CookiesProvider, useCookies } from 'react-cookie';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { useNavigate } from 'react-router-dom';\nexport default function Login(props) {\n    const [loading,setloading]=useState(false);\n    const navigate=useNavigate();\n    const [cookies, setCookie] = useCookies(['user'])\n    const loginhandler=async()=>{\n        \n        setloading(true);\n       \n        const datareq={\n            \"email\":data.email,\n            \"password\":data.password,\n        }\n        try{\n            const response= await fetch('https://blog-app-api-804s.onrender.com/api/login',{\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify(datareq),\n            })\n            const res=await response.json();\n            console.log(res);\n            if(res.success){\n                props.setlogedin(true)\n                console.log(\"login successful\");\n                setCookie('token', res.token,3*20*1000)\n                setloading(false);\n                toast.success(\"Login Successfull\");\n                navigate(\"/frommypen\");\n            }\n            else{\n\n                console.log(\"login failed\");\n                setloading(false);\n                toast.error(\"wrong credentials\");\n            }\n            \n\n        } catch(error){\n            console.log(\"login failed\");\n            console.log(error);\n            setloading(false);\n            toast.error(\"server error occured\");\n        }\n    }\n    const [data, setData] = useState({ email: \"\", password: \"\" });\n    const handleChange = ({ currentTarget: input }) => {\n\t\tsetData({ ...data, [input.name]: input.value });\n        console.log(input.value)\n\t};\n  return (\n    <div className='login'>\n            <h1 className='text-xl'>Login form</h1>\n            <div className='Input'>\n                <label for=\"email\" className='Input-label'>Email</label>\n                <input type=\"text\"  name=\"email\" className='Input-text' id=\"email\" placeholder='your email' onChange={handleChange}></input>\n                <label for=\"pwd\" className='Input-label'>Password</label>\n                <input type=\"password\"  name=\"password\" className='Input-text' id=\"pwd\" placeholder='enter your password' onChange={handleChange}></input>\n            </div>\n            <button className=\"button-5\" onClick={loginhandler}>Login</button>\n    \n\n    </div>\n  )\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}